<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Leetcode Contest 189 - A-ha - Michael&#39;s Personal Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Michael" /><meta name="description" content="Solved three out of four problems. Did not have enough time for the last problem.
" /><meta name="keywords" content="A-ha, personal, thoughts, leetcode, lintcode, algorithm, interview" />






<meta name="generator" content="Hugo 0.73.0 with theme even" />


<link rel="canonical" href="http://localhost:1313/post/leetcode-contest-189/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.78f8f17bab244b9ee62ad16480c9584d5fc2db06ae20681d1ca225cefd80767c.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Leetcode Contest 189" />
<meta property="og:description" content="Solved three out of four problems. Did not have enough time for the last problem." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/leetcode-contest-189/" />
<meta property="article:published_time" content="2020-05-17T20:02:20-04:00" />
<meta property="article:modified_time" content="2020-05-17T20:02:20-04:00" />
<meta itemprop="name" content="Leetcode Contest 189">
<meta itemprop="description" content="Solved three out of four problems. Did not have enough time for the last problem.">
<meta itemprop="datePublished" content="2020-05-17T20:02:20-04:00" />
<meta itemprop="dateModified" content="2020-05-17T20:02:20-04:00" />
<meta itemprop="wordCount" content="1309">



<meta itemprop="keywords" content="leetcode," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode Contest 189"/>
<meta name="twitter:description" content="Solved three out of four problems. Did not have enough time for the last problem."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Michael</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Michael</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Leetcode Contest 189</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-05-17 </span>
        <div class="post-category">
            <a href="/categories/leetcode/"> leetcode </a>
            <a href="/categories/interview/"> interview </a>
            </div>
          <span class="more-meta"> 1309 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#problem-1-leetcode-1450httpsleetcodecomproblemsnumber-of-students-doing-homework-at-a-given-time">Problem 1: <a href="https://leetcode.com/problems/number-of-students-doing-homework-at-a-given-time/">leetcode 1450</a></a></li>
    <li><a href="#problem-2-leetcode-1451httpsleetcodecomcontestweekly-contest-189problemsrearrange-words-in-a-sentence">Problem 2: <a href="https://leetcode.com/contest/weekly-contest-189/problems/rearrange-words-in-a-sentence/">leetcode 1451</a></a></li>
    <li><a href="#problem-3-leetcode-1452httpsleetcodecomproblemspeople-whose-list-of-favorite-companies-is-not-a-subset-of-another-list">Problem 3: <a href="https://leetcode.com/problems/people-whose-list-of-favorite-companies-is-not-a-subset-of-another-list/">leetcode 1452</a></a></li>
    <li><a href="#problem-4-leetcode-1453httpsleetcodecomcontestweekly-contest-189problemsmaximum-number-of-darts-inside-of-a-circular-dartboard">Problem 4 <a href="https://leetcode.com/contest/weekly-contest-189/problems/maximum-number-of-darts-inside-of-a-circular-dartboard/">leetcode 1453</a></a>
      <ul>
        <li><a href="#brute-force">Brute Force</a></li>
        <li><a href="#angle-sweep-1">Angle Sweep 1</a></li>
        <li><a href="#angle-sweep-2">Angle Sweep 2</a></li>
      </ul>
    </li>
    <li><a href="#what-have-i-learned">What Have I Learned?</a></li>
    <li><a href="#what-to-keep">What to Keep?</a></li>
    <li><a href="#what-not-to-do-anymore">What not to Do Anymore?</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Solved three out of four problems. Did not have enough time for the last problem.</p>
<h2 id="problem-1-leetcode-1450httpsleetcodecomproblemsnumber-of-students-doing-homework-at-a-given-time">Problem 1: <a href="https://leetcode.com/problems/number-of-students-doing-homework-at-a-given-time/">leetcode 1450</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># my solution</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">busyStudent</span>(self, startTime: List[int], endTime: List[int], queryTime: int) <span style="color:#f92672">-&gt;</span> int:
    n <span style="color:#f92672">=</span> len(startTime)
    times <span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
        s, e <span style="color:#f92672">=</span> startTime[i], endTime[i]
        times<span style="color:#f92672">.</span>append([s, <span style="color:#ae81ff">1</span>])
        times<span style="color:#f92672">.</span>append([e, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
    
    times<span style="color:#f92672">.</span>sort(key <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x : (x[<span style="color:#ae81ff">0</span>], <span style="color:#f92672">-</span>x[<span style="color:#ae81ff">1</span>]))
    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> tm <span style="color:#f92672">in</span> times:
        <span style="color:#66d9ef">if</span> tm[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;</span> queryTime:
            count <span style="color:#f92672">+=</span> tm[<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">elif</span> tm[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> queryTime <span style="color:#f92672">and</span> tm[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            count <span style="color:#f92672">+=</span> tm[<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">break</span>
    
    <span style="color:#66d9ef">return</span> count
</code></pre></div><p>This solution above is too complicated:</p>
<ul>
<li>no need to create a new <code>times</code> list</li>
</ul>
<p>Simply do</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">busyStudent</span>(self, startTime: List[int], endTime: List[int], queryTime: int) <span style="color:#f92672">-&gt;</span> int:
    
    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(startTime)):
        <span style="color:#66d9ef">if</span> startTime[i] <span style="color:#f92672">&lt;=</span> queryTime <span style="color:#f92672">&lt;=</span> endTime[i]:
            count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
    
    <span style="color:#66d9ef">return</span> count
</code></pre></div><h2 id="problem-2-leetcode-1451httpsleetcodecomcontestweekly-contest-189problemsrearrange-words-in-a-sentence">Problem 2: <a href="https://leetcode.com/contest/weekly-contest-189/problems/rearrange-words-in-a-sentence/">leetcode 1451</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#75715e"># my solution during contest</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">arrangeWords</span>(self, text: str) <span style="color:#f92672">-&gt;</span> str:
    words <span style="color:#f92672">=</span>[i<span style="color:#f92672">.</span>lower() <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> text<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>split()]
    
    <span style="color:#66d9ef">if</span> len(words) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
        <span style="color:#66d9ef">return</span> words[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>upper() <span style="color:#f92672">+</span> words[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>:]
    
    hist <span style="color:#f92672">=</span> {}
    max_len <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> w <span style="color:#f92672">in</span> words:
        <span style="color:#66d9ef">if</span> len(w) <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> hist:
            hist[len(w)] <span style="color:#f92672">=</span> []
        hist[len(w)]<span style="color:#f92672">.</span>append(w)
        max_len <span style="color:#f92672">=</span> max(max_len, len(w))
    
    res <span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, max_len <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">in</span> hist:
            res <span style="color:#f92672">+=</span> hist[i]
    
    head, tail <span style="color:#f92672">=</span> res[<span style="color:#ae81ff">0</span>], res[<span style="color:#ae81ff">1</span>:]
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">.</span>join([head[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>upper() <span style="color:#f92672">+</span> head[<span style="color:#ae81ff">1</span>:], <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">.</span>join(tail)])
</code></pre></div><p>Or if we do not want to use a bucket sort solution:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># this leverages Pyothon&#39;s soerted function to not move already sorted things around</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">arrangeWords</span>(self, text: str) <span style="color:#f92672">-&gt;</span> str:
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">.</span>join(sorted(text<span style="color:#f92672">.</span>split(), key <span style="color:#f92672">=</span> len))<span style="color:#f92672">.</span>capitalize()
</code></pre></div><h2 id="problem-3-leetcode-1452httpsleetcodecomproblemspeople-whose-list-of-favorite-companies-is-not-a-subset-of-another-list">Problem 3: <a href="https://leetcode.com/problems/people-whose-list-of-favorite-companies-is-not-a-subset-of-another-list/">leetcode 1452</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">peopleIndexes</span>(self, fcs: List[List[str]]) <span style="color:#f92672">-&gt;</span> List[int]:
    
    n <span style="color:#f92672">=</span> len(fcs)
    
    ans <span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
        is_contained <span style="color:#f92672">=</span> False
        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n):
            <span style="color:#66d9ef">if</span> j <span style="color:#f92672">==</span> i:
                <span style="color:#66d9ef">continue</span>
            s1 <span style="color:#f92672">=</span> set(fcs[i])
            s2 <span style="color:#f92672">=</span> set(fcs[j])
            <span style="color:#66d9ef">if</span> s1<span style="color:#f92672">.</span>issubset(s2):
                is_contained <span style="color:#f92672">=</span> True
                <span style="color:#66d9ef">break</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> is_contained:
            ans<span style="color:#f92672">.</span>append(i)
    
    <span style="color:#66d9ef">return</span> ans
</code></pre></div><p>A python cleaner solution than mine:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># This is clean because</span>
<span style="color:#75715e"># A: create set only once</span>
<span style="color:#75715e"># B: using [for ... else clause][1] to save the use of a flag variable.</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">peopleIndexes</span>(self, favoriteCompanies: List[List[str]]) <span style="color:#f92672">-&gt;</span> List[int]:
        res <span style="color:#f92672">=</span> []
        fc <span style="color:#f92672">=</span> [set(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> favoriteCompanies] <span style="color:#75715e"># A</span>
        N <span style="color:#f92672">=</span> len(fc)
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(N):
            <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(N):
                <span style="color:#66d9ef">if</span> i <span style="color:#f92672">!=</span> j <span style="color:#f92672">and</span> fc[i] <span style="color:#f92672">&amp;</span> fc[j] <span style="color:#f92672">==</span> fc[i]: <span style="color:#66d9ef">break</span> <span style="color:#75715e"># B</span>
            <span style="color:#66d9ef">else</span>:
                res<span style="color:#f92672">.</span>append(i)
        <span style="color:#66d9ef">return</span> res
</code></pre></div><p>This is a reference solution from</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#75715e">// nice implementation for set contain
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">bool</span> contain(<span style="color:#66d9ef">const</span> vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;&amp;</span> a, <span style="color:#66d9ef">const</span> vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;&amp;</span> b) {
        <span style="color:#66d9ef">if</span> (a.size() <span style="color:#f92672">&lt;</span> b.size()) <span style="color:#66d9ef">return</span> false;
        <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> a.size(), m <span style="color:#f92672">=</span> b.size();
        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">for</span> (; j <span style="color:#f92672">&lt;</span> m <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> n; ) {
            <span style="color:#66d9ef">if</span> (a[i] <span style="color:#f92672">==</span> b[j]) {
                <span style="color:#f92672">++</span>i; <span style="color:#f92672">++</span>j;
            } <span style="color:#66d9ef">else</span> {
                <span style="color:#f92672">++</span>i;
            }
        }
        <span style="color:#66d9ef">return</span> j <span style="color:#f92672">==</span> m;
    }
    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> peopleIndexes(vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;&gt;&amp;</span> a) {
        <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> a.size();
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>i) {
            sort(a[i].begin(), a[i].end());
        }
        vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> ret;
        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>i) {
            <span style="color:#66d9ef">bool</span> found <span style="color:#f92672">=</span> false;
            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> n; <span style="color:#f92672">++</span>j) {
                <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">==</span> i) <span style="color:#66d9ef">continue</span>;
                <span style="color:#66d9ef">if</span> (contain(a[j], a[i])) {
                    found <span style="color:#f92672">=</span> true;
                    <span style="color:#66d9ef">break</span>;
                }
            }
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>found) ret.push_back(i);
        }
        <span style="color:#66d9ef">return</span> ret;
    }
};
</code></pre></div><h2 id="problem-4-leetcode-1453httpsleetcodecomcontestweekly-contest-189problemsmaximum-number-of-darts-inside-of-a-circular-dartboard">Problem 4 <a href="https://leetcode.com/contest/weekly-contest-189/problems/maximum-number-of-darts-inside-of-a-circular-dartboard/">leetcode 1453</a></h2>
<h3 id="brute-force">Brute Force</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># O(N^3) solution</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_circle</span>(p, q):
    <span style="color:#75715e"># calculate circles with p, q on edge.</span>
    <span style="color:#66d9ef">return</span> [c1, c2]

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">numPoints</span>(points, r)
    ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n):
            <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> j:
                <span style="color:#66d9ef">continue</span>
            
            <span style="color:#66d9ef">if</span> dist(p[i], p[j]) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> r <span style="color:#f92672">+</span> EPS:
                <span style="color:#66d9ef">continue</span>

            <span style="color:#75715e"># get the two circles with point_i and point_j on the edge.</span>
            circles <span style="color:#f92672">=</span> get_circle(point[i], point[j])
            
            <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> circles:
                count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
                <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> points:
                    <span style="color:#66d9ef">if</span> dist(p, c) <span style="color:#f92672">&lt;=</span> r <span style="color:#f92672">+</span> EPS:
                        count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
                
                ans <span style="color:#f92672">=</span> max(ans, count)

    <span style="color:#66d9ef">return</span> ans
</code></pre></div><h3 id="angle-sweep-1">Angle Sweep 1</h3>
<p>Looping through every point, draw a circle of radius <code>r</code>.</p>
<p>Pick a point A, If we draw circles for every other point to intersect with A, there are overlapping arc.</p>
<p>For example. The green arc is the overlap arc for circle A that touch both B and C.
If I place one optimal circle&rsquo;s center point on top of the green arc, the optimal circle will be able to cover all three points A, B, and C.</p>
<p><img src="/img/leetcode-contest-189/circle_overlapping.png" alt="Overlapping circles"></p>
<p>With the above observation, the answer is to find maximum overlapping segment count.</p>
<p><img src="/img/leetcode-contest-189/angle-sweep.png" alt="Angle sweep">
<a href="https://www.geogebra.org/geometry/cknwbpr4">link to the source geometry file</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># this soultion suffers from accuracy issue.</span>
<span style="color:#75715e"># [[5,5],[-2,5],[4,2],[1,-1],[1,1]]</span>
<span style="color:#75715e"># 5</span>
<span style="color:#75715e"># expect 5, but get 4</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">dist</span>(self, p1, p2):
        dx <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">0</span>]
        dy <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">return</span> math<span style="color:#f92672">.</span>sqrt(dx <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> dy <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">numPoints</span>(self, points: List[List[int]], r: int) <span style="color:#f92672">-&gt;</span> int:
        n <span style="color:#f92672">=</span> len(points)
        
        ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
            segments <span style="color:#f92672">=</span> []
            <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, n): <span style="color:#75715e"># A: bug need to also consider pair(j, i)</span>
                A, B <span style="color:#f92672">=</span> points[i], points[j]
                <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>dist(A, B) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> r:
                    <span style="color:#66d9ef">continue</span>
                mid_point <span style="color:#f92672">=</span> math<span style="color:#f92672">.</span>atan2(B[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">1</span>], B[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">0</span>])
                half_arc <span style="color:#f92672">=</span> math<span style="color:#f92672">.</span>acos(self<span style="color:#f92672">.</span>dist(A, B)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span>r)
                
                start <span style="color:#f92672">=</span> mid_point <span style="color:#f92672">-</span> half_arc
                end <span style="color:#f92672">=</span> mid_point <span style="color:#f92672">+</span> half_arc
                segments<span style="color:#f92672">.</span>append([start, <span style="color:#ae81ff">1</span>])
                segments<span style="color:#f92672">.</span>append([end, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
                
            sorted_segments <span style="color:#f92672">=</span> sorted(segments, key <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: (x[<span style="color:#ae81ff">0</span>], <span style="color:#f92672">-</span>x[<span style="color:#ae81ff">1</span>]))
            <span style="color:#75715e"># print(sorted_segments)</span>
            dart_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">for</span> segment <span style="color:#f92672">in</span> sorted_segments:
                dart_count <span style="color:#f92672">+=</span> segment[<span style="color:#ae81ff">1</span>]
                ans <span style="color:#f92672">=</span> max(ans, dart_count)
        
        <span style="color:#66d9ef">return</span> ans
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># O(N^2 * logN)</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">dist</span>(self, p1, p2):
        dx <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">0</span>]
        dy <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">return</span> math<span style="color:#f92672">.</span>sqrt(dx <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> dy <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">numPoints</span>(self, points: List[List[int]], r: int) <span style="color:#f92672">-&gt;</span> int:
        n <span style="color:#f92672">=</span> len(points)
        
        ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
            segments <span style="color:#f92672">=</span> []
            <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n):
                <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> j: <span style="color:#75715e"># label A: bug fixed.</span>
                    <span style="color:#66d9ef">continue</span>

                A, B <span style="color:#f92672">=</span> points[i], points[j]
                <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>dist(A, B) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> r:
                    <span style="color:#66d9ef">continue</span>
                mid_point <span style="color:#f92672">=</span> math<span style="color:#f92672">.</span>atan2(B[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">1</span>], B[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">0</span>])
                half_arc <span style="color:#f92672">=</span> math<span style="color:#f92672">.</span>acos(self<span style="color:#f92672">.</span>dist(A, B)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">/</span>r)
                
                start <span style="color:#f92672">=</span> mid_point <span style="color:#f92672">-</span> half_arc
                end <span style="color:#f92672">=</span> mid_point <span style="color:#f92672">+</span> half_arc
                segments<span style="color:#f92672">.</span>append([start, <span style="color:#ae81ff">1</span>])
                segments<span style="color:#f92672">.</span>append([end, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
                
            sorted_segments <span style="color:#f92672">=</span> sorted(segments, key <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: (x[<span style="color:#ae81ff">0</span>], <span style="color:#f92672">-</span>x[<span style="color:#ae81ff">1</span>]))
            dart_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">for</span> segment <span style="color:#f92672">in</span> sorted_segments:
                dart_count <span style="color:#f92672">+=</span> segment[<span style="color:#ae81ff">1</span>]
                ans <span style="color:#f92672">=</span> max(ans, dart_count)
        
        <span style="color:#66d9ef">return</span> ans
</code></pre></div><h3 id="angle-sweep-2">Angle Sweep 2</h3>
<p>This is a simlar strategy, instead of drawing points on every dart and calculate overlapping arc.
This approach pick a point, and put this point a the circumferance of the circle and measure the enter and exiting angle.</p>
<p>The black angle is very easy to find by taking the <code>arctangen(dy, dx)</code> because P, Q are known points.
The red/blue angle is slightly harder to find. The trick is to realize that triangle PQF is a right angled trangle.
As result will be able to find the angle of either blue or red by taking <code>arccos(|PQ|/2r)</code>.</p>
<p><img src="/img/leetcode-contest-189/angle-sweep-2.png" alt="angle sweep 2"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#75715e"># black angle is `angle`, blue and red is `delta`.</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">dist</span>(self, p1, p2):
        dx <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">0</span>]
        dy <span style="color:#f92672">=</span> p1[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> p2[<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">return</span> math<span style="color:#f92672">.</span>sqrt(dx <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> dy <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>)
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">numPoints</span>(self, points: List[List[int]], r: int) <span style="color:#f92672">-&gt;</span> int:
        n <span style="color:#f92672">=</span> len(points)
        
        ans <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
            segments <span style="color:#f92672">=</span> []
            <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n):
                <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> j:
                    <span style="color:#66d9ef">continue</span>
                A, B <span style="color:#f92672">=</span> points[i], points[j]
                <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>dist(A, B) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> r:
                    <span style="color:#66d9ef">continue</span>
                
                delta <span style="color:#f92672">=</span> acos(self<span style="color:#f92672">.</span>dist(A, B) <span style="color:#f92672">/</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> r))
                angle <span style="color:#f92672">=</span> atan2( (B[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">1</span>]),  (B[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> A[<span style="color:#ae81ff">0</span>]) )
                    
                segments<span style="color:#f92672">.</span>append([angle <span style="color:#f92672">-</span> delta, <span style="color:#ae81ff">1</span>])
                segments<span style="color:#f92672">.</span>append([angle <span style="color:#f92672">+</span> delta, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
                
            sorted_segments <span style="color:#f92672">=</span> sorted(segments, key <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: (x[<span style="color:#ae81ff">0</span>], <span style="color:#f92672">-</span>x[<span style="color:#ae81ff">1</span>]))
            <span style="color:#75715e"># print(sorted_segments)</span>
            dart_count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">for</span> segment <span style="color:#f92672">in</span> sorted_segments:
                dart_count <span style="color:#f92672">+=</span> segment[<span style="color:#ae81ff">1</span>]
                ans <span style="color:#f92672">=</span> max(ans, dart_count)
        
        <span style="color:#66d9ef">return</span> ans
</code></pre></div><h2 id="what-have-i-learned">What Have I Learned?</h2>
<ul>
<li><a href="https://book.pythontips.com/en/latest/for_-_else.html#else-clause">Python for &hellip; else clause</a></li>
<li><a href="https://www.geogebra.org/geometry/cknwbpr4">Graph drawing tool Geogebra</a></li>
</ul>
<h2 id="what-to-keep">What to Keep?</h2>
<p>Think of edge case before submitting. All three problems are ACed the first trial.
Should keep doing this for future interview sessions.</p>
<h2 id="what-not-to-do-anymore">What not to Do Anymore?</h2>
<p>For problem two, I jumped to coding up a custom sorting solution right away. Which turns out to be time wasted because the implementation requires the order of orginal elements keep the same if no need to switch.</p>
<p>I need to think more next time before jump right into coding up the solution.</p>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Michael</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2020-05-17
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/leetcode/">leetcode</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/leetcode-contest-190/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Leetcode Contest 190</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/dynamic-programming-thinking-framework/">
            <span class="next-text nav-default">Thinking Framework for Dynamic Programming</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'goqqy';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/mkmojo" class="iconfont icon-github" title="github"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2015 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Michael</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script><script></script><script src="https://cdn.jsdelivr.net/npm/raphael@2.2.7/raphael.min.js" integrity="sha256-67By+NpOtm9ka1R6xpUefeGOY8kWWHHRAKlvaTJ7ONI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/flowchart.js@1.8.0/release/flowchart.min.js" integrity="sha256-zNGWjubXoY6rb5MnmpBNefO0RgoVYfle9p0tvOQM+6k=" crossorigin="anonymous"></script><script>window.sequenceDiagramsOptions = {theme: 'simple'};</script><script src="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js" integrity="sha256-4O4pS1SH31ZqrSO2A/2QJTVjTPqVe+jnYgOWUVr7EEc=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/snapsvg@0.5.1/dist/snap.svg-min.js" integrity="sha256-oI+elz+sIm+jpn8F/qEspKoKveTc5uKeFHNNVexe6d8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/underscore@1.8.3/underscore-min.js" integrity="sha256-obZACiHd7gkOk9iIL/pimWMTJ4W/pBsKu+oZnSeBIek=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/gh/bramp/js-sequence-diagrams@2.0.1/dist/sequence-diagram-min.js" integrity="sha384-8748Vn52gHJYJI0XEuPB2QlPVNUkJlJn9tHqKec6J3q2r9l8fvRxrgn/E5ZHV0sP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bramp/js-sequence-diagrams@2.0.1/dist/sequence-diagram-min.css" integrity="sha384-6QbLKJMz5dS3adWSeINZe74uSydBGFbnzaAYmp+tKyq60S7H2p6V7g1TysM5lAaF" crossorigin="anonymous">



<script type="text/javascript" src="/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js"></script>








</body>
</html>
